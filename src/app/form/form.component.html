<!-- <p>{{userForm.valid | json}}</p> -->
<form action="" #userForm="ngForm" (ngSubmit)="onSubmit(userForm)" class="w-50 mx-auto shadow p-4 m-3">
    <p class="fw-bold">Angular form</p>
    <p>{{inputValues | json}}</p>
    <div class="mb-3">
        <label for="">Tên user</label>
        <input 
            type="text" class="form-control" 
            name="name" [(ngModel)]="inputValues.name"
            required minlength="6"
            #name="ngModel"
        >
        <!-- <span *ngIf="(name.dirty || name.touched) && name.errors?.['required']" class="text-danger">Không được để trống</span>
        <span *ngIf="(name.dirty || name.touched) && name.errors?.['minlength']" class="text-danger">Lớn hơn 5 ký tự</span> -->
        <app-show-validate [field]="name" key="Tên" ></app-show-validate>
    </div>
    <div class="mb-3">
        <label for="">Tuổi</label>
        <input 
            type="number" class="form-control" 
            name="age" [(ngModel)]="inputValues.age"
            required min="18" max="100"
            #age="ngModel"
        >
        <app-show-validate [field]="age" key="Tuổi" ></app-show-validate>
    </div>
    <div class="mb-3">
        <label for="">SĐT</label>
        <input 
            type="number" class="form-control" 
            name="sdt" [(ngModel)]="inputValues.sdt"
            required minlength="10" maxlength="11"
            #sdt="ngModel"
        >
        <app-show-validate [field]="sdt" key="SĐT" ></app-show-validate>
    </div>
    <div class="mb-3">
        <label for="">Avatar</label>
        <input 
            type="text" class="form-control" 
            name="avatar" [(ngModel)]="inputValues.avatar"
            required 
            #avatar="ngModel"
        >
        <app-show-validate [field]="avatar" key="Avatar" ></app-show-validate>
    </div>
    <div class="mb-3">
        <label for="">Email</label>
        <input 
            type="text" class="form-control" 
            name="email" [(ngModel)]="inputValues.email"
            required 
            #email="ngModel"
        >
        <!-- <span>{{email.errors | json}}</span> -->
        <!-- Kiểm tra lỗi -->
        <app-show-validate [field]="email" key="Email"></app-show-validate>
    </div>
    <div class="mb-3">
        <button class="btn btn-success" [disabled]="!userForm.valid">Submit</button>
    </div>
</form>
<div>
    <table class="table table-striped text-center">
        <thead>
            <tr>
                <th>Id</th>
                <th>Tên</th>
                <th>Tuổi</th>
                <th>Emai</th>
                <th>SĐT</th>
                <th>Avatar</th>
                <th>Trạng thái</th>
                <th>Hành động</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let user of users">
                <td>{{user.id}}</td>
                <td>{{user.name}}</td>
                <td>{{user.age}}</td>
                <td>{{user.email}}</td>
                <td>{{user.sdt}}</td>
                <td>
                    <img  [src]="user.avatar" alt="Ảnh" class=" border border-warning border-4 shadow">
                </td>
                <td></td>
                <td>
                    <button class="btn btn-warning" (click)="onEdit(user.id)">Sửa</button>
                    <button class="btn btn-danger" (click)="onRemove(user.id)">Xóa</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>
